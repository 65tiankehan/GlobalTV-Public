<!--
 * @职业: 自由 开发者
 * @Description:
 * @Author: KeHan
 * @Date: 2024-03-21 10:16:51
 * @LastEditTime: 2024-03-21 10:56:43
 * @LastEditors: KeHan
-->
<script setup lang="ts">
import { ref } from 'vue'
import { useRouter } from 'vue-router'
const percentageRef = ref(0)
const isDisplay = ref(false)
const router = useRouter()

const intervalId = setInterval(() => {
  if (percentageRef.value < 100) {
    percentageRef.value += 2
  } else {
    isDisplay.value = true
    clearInterval(intervalId)

    router.push({ path: '/load' }) // 修改这里
  }
}, 100) // 每1000毫秒执行一次
</script>

<template>
  <div class="Load_layout">
    <div
      style="
        text-align: center;
        border-radius: 20px;
        width: 150px;
        height: 150px;
        margin: auto;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
      "
    >
      <svg t="1724749688226" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8639" width="64" height="64"><path d="M506.942496 517.671629m-428.081563 0a428.081564 428.081564 0 1 0 856.163127 0 428.081564 428.081564 0 1 0-856.163127 0Z" fill="#E3DEFF" p-id="8640"></path><path d="M505.786495 535.372892m-239.25605 0a239.25605 239.25605 0 1 0 478.512101 0 239.25605 239.25605 0 1 0-478.512101 0Z" fill="#FFFFFF" p-id="8641"></path><path d="M505.75037 789.078953a253.742186 253.742186 0 1 1 253.706061-253.706061A254.031186 254.031186 0 0 1 505.75037 789.078953zM505.75037 310.675228a224.842165 224.842165 0 1 0 224.80604 224.842164A225.09504 225.09504 0 0 0 505.75037 310.675228z" fill="#404951" p-id="8642"></path><path d="M519.803006 554.121781m-205.587526 0a205.587526 205.587526 0 1 0 411.175051 0 205.587526 205.587526 0 1 0-411.175051 0Z" fill="#E1D9FF" p-id="8643"></path><path d="M602.709941 572.762295m-87.205813 0a87.205814 87.205814 0 1 0 174.411627 0 87.205814 87.205814 0 1 0-174.411627 0Z" fill="#CBB8FF" p-id="8644"></path><path d="M602.709941 674.418119A101.655824 101.655824 0 1 1 704.438016 572.762295a101.7642 101.7642 0 0 1-101.728075 101.655824z m0-174.411628A72.755803 72.755803 0 1 0 675.537995 572.762295a72.828053 72.828053 0 0 0-72.828054-72.755804z" fill="#404951" p-id="8645"></path><path d="M222.385663 720.044027c-43.711282 0-70.190926-10.837508-79.077683-32.079023-18.423763-44.433783 54.18754-103.245326 118.453962-144.752981l15.714386 24.239893c-95.37007 61.629295-111.987582 98.549072-107.471953 109.45883 3.865378 9.284132 32.187399 21.675016 113.902208 8.597756 72.900303-11.560008 164.910746-39.412404 259.01644-78.499682s178.818881-84.532562 238.425174-127.990969c66.831299-48.732661 78.138432-77.452057 74.30918-86.700064-1.228251-2.962252-8.092006-12.752134-44.506033-14.052635-29.441897-1.011501-70.010301 4.046003-117.261836 14.775136l-6.321879-28.177521c78.391307-17.773513 175.856629-29.333521 194.858392 16.436887 30.164397 72.719678-179.866507 190.848515-328.412615 252.513935-96.16482 39.918154-190.487265 68.63755-265.591195 80.342059a426.925563 426.925563 0 0 1-66.036548 5.888379z" fill="#404951" p-id="8646"></path><path d="M416.84668 519.369505m-44.072532 0a44.072532 44.072532 0 1 0 88.145065 0 44.072532 44.072532 0 1 0-88.145065 0Z" fill="#CBB8FF" p-id="8647"></path><path d="M416.84668 578.000423a58.522543 58.522543 0 1 1 58.522543-58.522543 58.594793 58.594793 0 0 1-58.522543 58.522543z m0-88.145064a29.622522 29.622522 0 1 0 29.622522 29.622521 29.658647 29.658647 0 0 0-29.622522-29.730896z" fill="#404951" p-id="8648"></path></svg>
      <h1>Global TV</h1>
      <div style="text-align: center; padding-left: 50%; padding-top: 2%; margin-top: 5%">
        <div class="dot-flashing"></div>
      </div>
      <n-progress type="line" :percentage="percentageRef" :show-indicator="false" processing />
      <div class="animate__animated animate__jello" v-show="isDisplay">加载完成</div>
    </div>
  </div>
</template>

<style scoped>
.Load_layout {
  background-color: #222222;
  height: 100%;
  border-radius: 10px;
}
</style>
